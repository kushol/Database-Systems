-- MySQL Script generated by MySQL Workbench
-- Thu Aug 11 19:30:27 2022
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mq44999038
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mq44999038
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mq44999038` DEFAULT CHARACTER SET utf8 ;
USE `mq44999038` ;

-- -----------------------------------------------------
-- Table `mq44999038`.`Musician`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mq44999038`.`Musician` (
  `SSN` INT NOT NULL,
  `MusicianName` VARCHAR(45) NOT NULL,
  `MusicianAddress` VARCHAR(45) NOT NULL,
  `MusicianPhoneNo.` INT NOT NULL,
  PRIMARY KEY (`SSN`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mq44999038`.`Instrument`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mq44999038`.`Instrument` (
  `InstrumentId` INT NOT NULL,
  `InstrumentName` VARCHAR(45) NOT NULL,
  `MusicalKey` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`InstrumentId`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mq44999038`.`Album`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mq44999038`.`Album` (
  `AlbumId` INT NOT NULL,
  `AlbumTitle` VARCHAR(45) NOT NULL,
  `CopyrightDate` DATE NULL,
  `Format` VARCHAR(45) NULL,
  `Musician_SSN` INT NOT NULL,
  PRIMARY KEY (`AlbumId`),
  INDEX `fk_Album_Musician1_idx` (`Musician_SSN` ASC),
  CONSTRAINT `fk_Album_Musician1`
    FOREIGN KEY (`Musician_SSN`)
    REFERENCES `mq44999038`.`Musician` (`SSN`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mq44999038`.`Song`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mq44999038`.`Song` (
  `SongId` INT NOT NULL,
  `SongTitle` VARCHAR(45) NOT NULL,
  `ComposerName` VARCHAR(45) NULL,
  `AuthorName` VARCHAR(45) NULL,
  `Album_AlbumId` INT NOT NULL,
  PRIMARY KEY (`SongId`),
  INDEX `fk_Song_Album1_idx` (`Album_AlbumId` ASC),
  CONSTRAINT `fk_Song_Album1`
    FOREIGN KEY (`Album_AlbumId`)
    REFERENCES `mq44999038`.`Album` (`AlbumId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mq44999038`.`Play`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mq44999038`.`Play` (
  `Musician_SSN` INT NOT NULL,
  `Instrument_InstrumentId` INT NOT NULL,
  `YearsOfExperience` INT NULL,
  PRIMARY KEY (`Musician_SSN`, `Instrument_InstrumentId`),
  INDEX `fk_Musician_has_Instrument_Instrument1_idx` (`Instrument_InstrumentId` ASC),
  INDEX `fk_Musician_has_Instrument_Musician_idx` (`Musician_SSN` ASC),
  CONSTRAINT `fk_Musician_has_Instrument_Musician`
    FOREIGN KEY (`Musician_SSN`)
    REFERENCES `mq44999038`.`Musician` (`SSN`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Musician_has_Instrument_Instrument1`
    FOREIGN KEY (`Instrument_InstrumentId`)
    REFERENCES `mq44999038`.`Instrument` (`InstrumentId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mq44999038`.`Perform`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mq44999038`.`Perform` (
  `Musician_SSN` INT NOT NULL,
  `Song_SongId` INT NOT NULL,
  PRIMARY KEY (`Musician_SSN`, `Song_SongId`),
  INDEX `fk_Musician_has_Song_Song1_idx` (`Song_SongId` ASC),
  INDEX `fk_Musician_has_Song_Musician1_idx` (`Musician_SSN` ASC),
  CONSTRAINT `fk_Musician_has_Song_Musician1`
    FOREIGN KEY (`Musician_SSN`)
    REFERENCES `mq44999038`.`Musician` (`SSN`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Musician_has_Song_Song1`
    FOREIGN KEY (`Song_SongId`)
    REFERENCES `mq44999038`.`Song` (`SongId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;


insert into Musician values (123,'Alice','North Ryde','0404123456');
insert into Musician values (987,'Bob','Circular Quay','0404654321');
insert into Musician values (124,'Charlie','Parramatta','0426802468');
insert into Musician values (125,'David','North Ryde','0404123000');

insert into Album values (1001,'Beat it','2017-01-01','cd',123);
insert into Album values (1002,'Purpose','2017-04-01','dvd',987);
insert into Album values (1003,'Run away','2016-01-01','cd',987);
insert into Album values (1004,'Summer of 69','2015-01-01','cd',124);

insert into Song values (2001,'A song','Composer 1','Author 1',1001);
insert into Song values (2002,'Some song','Composer 1','Author 2',1002);
insert into Song values (2003,'Other song','Composer 2','Author 1',1002);
insert into Song values (2004,'Another song','Composer 3','Author 2',1003);

insert into Instrument values (3001,'Violin','C-Sharp');
insert into Instrument values (3002, 'Piano', 'D-Minor');
insert into Instrument values (3003, 'Guitar', 'B-Flat');

insert into Perform values (123, 2001);
insert into Perform values (124, 2002);
insert into Perform values (123, 2003);
insert into Perform values (123, 2004);

insert into Play values (987, 3001, 10);
insert into Play values (987, 3003, 20);
insert into Play values (123, 3002, 2);
insert into Play values (124, 3001, 8);
